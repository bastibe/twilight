
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [11.890960615721497, 20.879625156989675, 11.271052716323709, -1.7470131710301757, -16.004894857179636, -15.075033008082954, -12.90535536019064, 2.5923421247544525],
              'yp': [-10.622564647538042, -23.02072263549411, -35.41888062345019, -36.968650371944705, -27.979985830676554, -15.271873893021564, -2.2538080056677074, -4.1135317038610992],
              'min_Jp': 10.208333333333336,
              'max_Jp': 94.89583333333334}

cm_data = [[ 0.11491149,  0.04258091,  0.13280069],
       [ 0.11913922,  0.04503066,  0.13796129],
       [ 0.12334119,  0.0474596 ,  0.14313781],
       [ 0.12751792,  0.04986878,  0.14833186],
       [ 0.13167477,  0.05225188,  0.15355814],
       [ 0.13580665,  0.05461785,  0.15880428],
       [ 0.13991379,  0.05696771,  0.1640716 ],
       [ 0.14399966,  0.05929728,  0.16937101],
       [ 0.14806154,  0.06161177,  0.17469612],
       [ 0.15209852,  0.06391359,  0.18004534],
       [ 0.15611151,  0.06620217,  0.18542275],
       [ 0.16010161,  0.06847631,  0.19083379],
       [ 0.16406607,  0.07074123,  0.19627108],
       [ 0.16800462,  0.07299798,  0.20173534],
       [ 0.17191789,  0.07524592,  0.20723067],
       [ 0.17580591,  0.07748523,  0.21275973],
       [ 0.1796666 ,  0.07971997,  0.21831679],
       [ 0.18349948,  0.08195125,  0.22390218],
       [ 0.18730403,  0.08418021,  0.22951612],
       [ 0.19108098,  0.08640528,  0.23516508],
       [ 0.19482836,  0.08863025,  0.24084332],
       [ 0.19854528,  0.09085686,  0.24654959],
       [ 0.20223102,  0.09308637,  0.2522837 ],
       [ 0.20588486,  0.09532004,  0.25804531],
       [ 0.20950624,  0.09755859,  0.26383556],
       [ 0.21309455,  0.09980268,  0.26965574],
       [ 0.21664832,  0.10205524,  0.27550121],
       [ 0.22016669,  0.10431766,  0.2813712 ],
       [ 0.22364878,  0.10659134,  0.28726476],
       [ 0.22709367,  0.10887769,  0.29318088],
       [ 0.23050045,  0.11117814,  0.29911839],
       [ 0.23386818,  0.11349414,  0.305076  ],
       [ 0.23719594,  0.1158269 ,  0.31105308],
       [ 0.24048278,  0.11817765,  0.31704891],
       [ 0.24372763,  0.12054846,  0.32305992],
       [ 0.24692954,  0.12294077,  0.3290844 ],
       [ 0.25008757,  0.12535599,  0.33512053],
       [ 0.25320079,  0.12779553,  0.34116637],
       [ 0.25626828,  0.13026077,  0.3472199 ],
       [ 0.25928913,  0.13275305,  0.35327901],
       [ 0.26226246,  0.13527368,  0.3593415 ],
       [ 0.26518742,  0.13782395,  0.3654051 ],
       [ 0.26806316,  0.14040509,  0.37146746],
       [ 0.27088889,  0.14301827,  0.37752616],
       [ 0.27366385,  0.14566463,  0.38357875],
       [ 0.27638729,  0.14834521,  0.3896227 ],
       [ 0.27905854,  0.15106103,  0.39565548],
       [ 0.28167694,  0.15381301,  0.40167448],
       [ 0.2842419 ,  0.15660201,  0.40767712],
       [ 0.28675286,  0.15942882,  0.41366075],
       [ 0.28920932,  0.16229412,  0.41962276],
       [ 0.29161084,  0.16519854,  0.42556051],
       [ 0.29395703,  0.16814262,  0.43147138],
       [ 0.29624753,  0.1711268 ,  0.43735277],
       [ 0.29848209,  0.17415145,  0.4432021 ],
       [ 0.30066047,  0.17721685,  0.44901683],
       [ 0.30278253,  0.18032318,  0.45479444],
       [ 0.30484817,  0.18347056,  0.46053247],
       [ 0.30685735,  0.18665899,  0.46622852],
       [ 0.30881012,  0.18988841,  0.47188022],
       [ 0.31070656,  0.19315868,  0.47748529],
       [ 0.31254684,  0.19646956,  0.4830415 ],
       [ 0.31433118,  0.19982074,  0.4885467 ],
       [ 0.31605975,  0.20321188,  0.49399908],
       [ 0.31773301,  0.20664249,  0.49939639],
       [ 0.31935142,  0.21011206,  0.50473668],
       [ 0.32091548,  0.21362   ,  0.51001812],
       [ 0.32242575,  0.21716564,  0.51523899],
       [ 0.32388283,  0.22074828,  0.52039765],
       [ 0.32528744,  0.22436716,  0.52549256],
       [ 0.32664032,  0.22802146,  0.53052227],
       [ 0.32794228,  0.23171032,  0.53548542],
       [ 0.32919421,  0.23543285,  0.54038076],
       [ 0.33039705,  0.2391881 ,  0.54520713],
       [ 0.3315518 ,  0.2429751 ,  0.54996346],
       [ 0.33265951,  0.24679286,  0.55464881],
       [ 0.33372124,  0.25064036,  0.55926233],
       [ 0.33473828,  0.25451653,  0.56380318],
       [ 0.33571186,  0.25842029,  0.56827067],
       [ 0.33664329,  0.26235056,  0.5726642 ],
       [ 0.33753393,  0.26630624,  0.57698328],
       [ 0.33838519,  0.27028622,  0.5812275 ],
       [ 0.33919853,  0.27428939,  0.58539651],
       [ 0.33997548,  0.27831464,  0.58949009],
       [ 0.3407176 ,  0.28236085,  0.59350806],
       [ 0.34142652,  0.28642691,  0.59745035],
       [ 0.3421039 ,  0.29051172,  0.60131694],
       [ 0.34275147,  0.29461418,  0.60510791],
       [ 0.34337101,  0.29873318,  0.60882339],
       [ 0.34396433,  0.30286765,  0.61246358],
       [ 0.3445333 ,  0.30701653,  0.61602877],
       [ 0.34507981,  0.31117875,  0.6195193 ],
       [ 0.34560581,  0.31535329,  0.62293555],
       [ 0.34611327,  0.31953912,  0.626278  ],
       [ 0.34660423,  0.32373524,  0.62954716],
       [ 0.34708074,  0.32794067,  0.63274359],
       [ 0.34754489,  0.33215444,  0.63586792],
       [ 0.34799882,  0.33637561,  0.63892082],
       [ 0.3484447 ,  0.34060326,  0.641903  ],
       [ 0.3488847 ,  0.34483649,  0.64481521],
       [ 0.34932103,  0.34907443,  0.64765826],
       [ 0.34975594,  0.35331623,  0.65043299],
       [ 0.35019167,  0.35756105,  0.65314027],
       [ 0.35063052,  0.3618081 ,  0.65578101],
       [ 0.35107479,  0.36605658,  0.65835615],
       [ 0.35152678,  0.37030575,  0.66086667],
       [ 0.35198882,  0.37455486,  0.66331357],
       [ 0.35246326,  0.37880321,  0.66569788],
       [ 0.35295246,  0.38305009,  0.66802067],
       [ 0.35345875,  0.38729485,  0.67028301],
       [ 0.35398445,  0.39153685,  0.672486  ],
       [ 0.35453191,  0.39577548,  0.67463076],
       [ 0.35510346,  0.40001015,  0.67671844],
       [ 0.35570142,  0.40424027,  0.67875018],
       [ 0.35632809,  0.40846531,  0.68072717],
       [ 0.35698576,  0.41268473,  0.68265059],
       [ 0.35767669,  0.41689804,  0.68452166],
       [ 0.35840311,  0.42110474,  0.68634158],
       [ 0.35916724,  0.42530438,  0.68811159],
       [ 0.35997127,  0.42949651,  0.68983293],
       [ 0.36081731,  0.43368071,  0.69150687],
       [ 0.36170744,  0.43785658,  0.69313464],
       [ 0.36264369,  0.44202375,  0.6947175 ],
       [ 0.36362806,  0.44618187,  0.69625672],
       [ 0.36466247,  0.45033058,  0.69775359],
       [ 0.3657488 ,  0.45446957,  0.69920937],
       [ 0.36688886,  0.45859853,  0.70062537],
       [ 0.3680844 ,  0.46271718,  0.70200286],
       [ 0.36933708,  0.46682526,  0.70334313],
       [ 0.3706485 ,  0.47092251,  0.70464749],
       [ 0.3720202 ,  0.47500871,  0.70591721],
       [ 0.37345365,  0.47908361,  0.70715364],
       [ 0.37495017,  0.48314705,  0.70835802],
       [ 0.37651104,  0.48719883,  0.70953165],
       [ 0.37813747,  0.49123879,  0.71067581],
       [ 0.37983056,  0.49526679,  0.7117918 ],
       [ 0.38159133,  0.49928268,  0.71288089],
       [ 0.3834207 ,  0.50328634,  0.71394437],
       [ 0.38531951,  0.50727766,  0.71498351],
       [ 0.38728852,  0.51125656,  0.71599957],
       [ 0.38932838,  0.51522296,  0.71699383],
       [ 0.39143965,  0.51917678,  0.71796754],
       [ 0.39362282,  0.52311798,  0.71892195],
       [ 0.39587829,  0.5270465 ,  0.71985834],
       [ 0.39820634,  0.53096234,  0.72077792],
       [ 0.40060718,  0.53486546,  0.72168191],
       [ 0.40308096,  0.53875587,  0.72257152],
       [ 0.40562772,  0.54263358,  0.72344796],
       [ 0.40824743,  0.5464986 ,  0.72431244],
       [ 0.41093999,  0.55035095,  0.72516614],
       [ 0.41370521,  0.55419069,  0.72601024],
       [ 0.41654286,  0.55801785,  0.7268459 ],
       [ 0.4194526 ,  0.56183249,  0.7276743 ],
       [ 0.42243406,  0.56563467,  0.72849656],
       [ 0.4254868 ,  0.56942447,  0.72931382],
       [ 0.42861032,  0.57320197,  0.73012722],
       [ 0.43180406,  0.57696726,  0.73093787],
       [ 0.43506743,  0.58072044,  0.73174684],
       [ 0.43839976,  0.58446161,  0.73255523],
       [ 0.44180037,  0.58819087,  0.73336409],
       [ 0.44526853,  0.59190836,  0.73417449],
       [ 0.44880346,  0.59561417,  0.73498748],
       [ 0.45240439,  0.59930846,  0.73580409],
       [ 0.45607046,  0.60299133,  0.73662534],
       [ 0.45980085,  0.60666294,  0.73745224],
       [ 0.46359466,  0.61032341,  0.73828579],
       [ 0.46745102,  0.6139729 ,  0.73912697],
       [ 0.47136901,  0.61761154,  0.73997677],
       [ 0.47534772,  0.6212395 ,  0.74083613],
       [ 0.47938622,  0.62485692,  0.74170602],
       [ 0.48348358,  0.62846395,  0.74258737],
       [ 0.48763884,  0.63206075,  0.74348111],
       [ 0.49185108,  0.63564749,  0.74438818],
       [ 0.49611935,  0.63922432,  0.74530949],
       [ 0.5004427 ,  0.64279139,  0.74624595],
       [ 0.50482021,  0.64634888,  0.74719846],
       [ 0.50925093,  0.64989694,  0.74816791],
       [ 0.51373395,  0.65343574,  0.74915521],
       [ 0.51826833,  0.65696544,  0.75016124],
       [ 0.52285318,  0.66048619,  0.75118688],
       [ 0.5274876 ,  0.66399818,  0.75223302],
       [ 0.5321707 ,  0.66750154,  0.75330049],
       [ 0.53690161,  0.67099646,  0.75439019],
       [ 0.54167944,  0.67448308,  0.75550302],
       [ 0.54650333,  0.67796158,  0.75663987],
       [ 0.55137244,  0.68143212,  0.75780163],
       [ 0.55628591,  0.68489485,  0.75898919],
       [ 0.56124292,  0.68834994,  0.76020345],
       [ 0.56624264,  0.69179755,  0.76144531],
       [ 0.57128425,  0.69523786,  0.76271569],
       [ 0.57636694,  0.69867102,  0.7640155 ],
       [ 0.5814899 ,  0.70209721,  0.76534569],
       [ 0.58665231,  0.70551659,  0.76670719],
       [ 0.5918534 ,  0.70892933,  0.76810094],
       [ 0.59709233,  0.71233563,  0.76952791],
       [ 0.60236827,  0.71573565,  0.77098912],
       [ 0.60768039,  0.71912961,  0.77248556],
       [ 0.61302785,  0.72251768,  0.77401824],
       [ 0.61840981,  0.72590008,  0.77558819],
       [ 0.62382538,  0.72927702,  0.77719644],
       [ 0.62927367,  0.73264873,  0.77884404],
       [ 0.63475378,  0.73601546,  0.78053205],
       [ 0.64026476,  0.73937744,  0.78226154],
       [ 0.64580563,  0.74273496,  0.78403359],
       [ 0.65137538,  0.7460883 ,  0.78584928],
       [ 0.65697285,  0.7494378 ,  0.78770982],
       [ 0.66259694,  0.75278379,  0.78961627],
       [ 0.66824657,  0.7561266 ,  0.79156966],
       [ 0.67392055,  0.75946663,  0.79357104],
       [ 0.67961763,  0.76280427,  0.79562148],
       [ 0.68533652,  0.76613997,  0.79772199],
       [ 0.69107587,  0.7694742 ,  0.79987358],
       [ 0.69683429,  0.77280745,  0.80207721],
       [ 0.7026103 ,  0.77614026,  0.8043338 ],
       [ 0.70840239,  0.77947321,  0.80664422],
       [ 0.714209  ,  0.78280688,  0.80900927],
       [ 0.7200285 ,  0.78614194,  0.81142971],
       [ 0.72585922,  0.78947904,  0.81390621],
       [ 0.73169945,  0.79281892,  0.81643938],
       [ 0.73754741,  0.7961623 ,  0.81902971],
       [ 0.74340133,  0.79950999,  0.82167765],
       [ 0.74925935,  0.80286279,  0.82438353],
       [ 0.75511964,  0.80622155,  0.8271476 ],
       [ 0.76098031,  0.80958714,  0.82997002],
       [ 0.76683947,  0.81296047,  0.83285087],
       [ 0.77269523,  0.81634245,  0.83579016],
       [ 0.77854568,  0.81973402,  0.83878783],
       [ 0.78438894,  0.82313614,  0.84184378],
       [ 0.79022314,  0.82654976,  0.84495787],
       [ 0.79604642,  0.82997585,  0.84812999],
       [ 0.80185697,  0.83341535,  0.85136005],
       [ 0.80765302,  0.83686919,  0.85464804],
       [ 0.81343288,  0.84033828,  0.85799409],
       [ 0.81919497,  0.84382347,  0.86139848],
       [ 0.82493782,  0.84732552,  0.86486175],
       [ 0.83066019,  0.85084513,  0.86838476],
       [ 0.83635797,  0.8543839 ,  0.8719697 ],
       [ 0.8420319 ,  0.85794176,  0.87561757],
       [ 0.84768317,  0.86151837,  0.87932996],
       [ 0.85331239,  0.86511351,  0.88310928],
       [ 0.85892107,  0.86872657,  0.88695835],
       [ 0.86451177,  0.87235651,  0.89088026],
       [ 0.87008105,  0.87600448,  0.89487901],
       [ 0.87564052,  0.87966605,  0.89895611],
       [ 0.88119653,  0.88333869,  0.90311389],
       [ 0.88675657,  0.88701948,  0.90735388],
       [ 0.89232212,  0.89070802,  0.91167599],
       [ 0.89790511,  0.89439989,  0.91607892],
       [ 0.90351675,  0.89809096,  0.92056082],
       [ 0.90916383,  0.90177896,  0.92511844],
       [ 0.91484293,  0.90546602,  0.92974532],
       [ 0.92057033,  0.90914594,  0.93443928],
       [ 0.92635074,  0.91281728,  0.93919627],
       [ 0.93217249,  0.91648571,  0.94400748],
       [ 0.93804991,  0.9201455 ,  0.94887283],
       [ 0.94398606,  0.92379568,  0.95378996]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
