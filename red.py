
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [11.890960615721497, 27.698612050365512, 36.067368692235846, 36.377322641934768, 25.528934402473226, 10.341190867226999, 0.73261842656106069, 2.5923421247544525],
              'yp': [-10.622564647538042, -7.8329791002479396, -1.3239461565709973, 10.454303931987283, 20.682784272051038, 20.372830322352144, 9.2144881331916793, -4.1135317038610992],
              'min_Jp': 10.208333333333336,
              'max_Jp': 94.89583333333334}

cm_data = [[ 0.11491149,  0.04258091,  0.13280069],
       [ 0.11965882,  0.044975  ,  0.13636802],
       [ 0.12440599,  0.04733411,  0.13990772],
       [ 0.12915519,  0.04965822,  0.14342013],
       [ 0.13391067,  0.05194537,  0.14690559],
       [ 0.13866784,  0.05420112,  0.15036406],
       [ 0.14342969,  0.05642435,  0.15379574],
       [ 0.14819846,  0.05861449,  0.15720072],
       [ 0.15297046,  0.06077602,  0.16057901],
       [ 0.15774876,  0.06290748,  0.16393064],
       [ 0.16253503,  0.06500849,  0.16725554],
       [ 0.16732581,  0.06708315,  0.17055375],
       [ 0.17212343,  0.06913043,  0.17382515],
       [ 0.17693062,  0.07114881,  0.17706947],
       [ 0.18174337,  0.07314275,  0.18028681],
       [ 0.18656241,  0.07511247,  0.18347702],
       [ 0.19139323,  0.07705381,  0.18663945],
       [ 0.19623049,  0.07897235,  0.18977433],
       [ 0.20107444,  0.08086861,  0.19288148],
       [ 0.20592893,  0.08273978,  0.19596017],
       [ 0.21079263,  0.08458774,  0.19901026],
       [ 0.21566364,  0.08641486,  0.20203171],
       [ 0.22054216,  0.08822162,  0.20502423],
       [ 0.22543347,  0.09000372,  0.2079865 ],
       [ 0.23033276,  0.0917662 ,  0.21091896],
       [ 0.23523996,  0.09350968,  0.21382128],
       [ 0.2401552 ,  0.09523461,  0.21669303],
       [ 0.24508326,  0.09693705,  0.21953259],
       [ 0.25001962,  0.09862175,  0.22234052],
       [ 0.2549642 ,  0.10028932,  0.22511636],
       [ 0.25991705,  0.10194022,  0.22785959],
       [ 0.26488036,  0.10357287,  0.23056898],
       [ 0.269854  ,  0.10518789,  0.2332439 ],
       [ 0.27483584,  0.1067878 ,  0.2358844 ],
       [ 0.27982585,  0.10837312,  0.23848986],
       [ 0.284824  ,  0.10994437,  0.24105962],
       [ 0.28983121,  0.11150115,  0.24359263],
       [ 0.29484874,  0.11304273,  0.24608753],
       [ 0.29987396,  0.11457214,  0.24854462],
       [ 0.30490674,  0.11609   ,  0.25096314],
       [ 0.3099469 ,  0.11759699,  0.25334234],
       [ 0.31499424,  0.11909379,  0.25568146],
       [ 0.32004855,  0.12058116,  0.2579797 ],
       [ 0.32511065,  0.12205877,  0.26023563],
       [ 0.33018016,  0.12352752,  0.26244839],
       [ 0.33525555,  0.12498945,  0.26461781],
       [ 0.34033647,  0.12644547,  0.26674304],
       [ 0.34542251,  0.12789653,  0.26882324],
       [ 0.35051322,  0.12934363,  0.27085754],
       [ 0.35560813,  0.13078783,  0.27284508],
       [ 0.36070672,  0.13223023,  0.27478501],
       [ 0.36580841,  0.13367202,  0.27667647],
       [ 0.37091259,  0.13511443,  0.27851861],
       [ 0.3760186 ,  0.13655873,  0.2803106 ],
       [ 0.38112572,  0.1380063 ,  0.28205163],
       [ 0.3862332 ,  0.13945855,  0.28374089],
       [ 0.39134022,  0.14091696,  0.28537762],
       [ 0.39644591,  0.1423831 ,  0.28696109],
       [ 0.40154936,  0.14385857,  0.2884906 ],
       [ 0.40664958,  0.14534507,  0.28996553],
       [ 0.41174556,  0.14684434,  0.29138527],
       [ 0.4168362 ,  0.14835818,  0.29274929],
       [ 0.42192037,  0.14988847,  0.29405714],
       [ 0.42699688,  0.15143713,  0.29530844],
       [ 0.43206449,  0.15300613,  0.29650289],
       [ 0.4371219 ,  0.1545975 ,  0.29764027],
       [ 0.44216778,  0.1562133 ,  0.29872049],
       [ 0.44720073,  0.15785563,  0.29974354],
       [ 0.45221952,  0.1595264 ,  0.30070924],
       [ 0.45722358,  0.16122694,  0.30161638],
       [ 0.46221025,  0.16296048,  0.30246697],
       [ 0.467178  ,  0.16472916,  0.30326152],
       [ 0.47212523,  0.16653514,  0.30400071],
       [ 0.47705035,  0.16838053,  0.30468534],
       [ 0.48195174,  0.17026743,  0.30531637],
       [ 0.48682898,  0.1721968 ,  0.30589243],
       [ 0.49167915,  0.17417181,  0.30641726],
       [ 0.49650057,  0.17619437,  0.30689237],
       [ 0.50129163,  0.1782663 ,  0.30731938],
       [ 0.50605102,  0.18038909,  0.30769934],
       [ 0.5107775 ,  0.18256411,  0.30803319],
       [ 0.51546874,  0.18479346,  0.30832489],
       [ 0.52012327,  0.18707849,  0.30857667],
       [ 0.5247398 ,  0.18942028,  0.30879036],
       [ 0.52931719,  0.19181975,  0.30896757],
       [ 0.53385355,  0.19427819,  0.30911262],
       [ 0.53834763,  0.19679632,  0.30922826],
       [ 0.54279846,  0.19937462,  0.30931642],
       [ 0.54720478,  0.20201358,  0.30938051],
       [ 0.5515654 ,  0.20471355,  0.30942424],
       [ 0.55587942,  0.20747459,  0.30945052],
       [ 0.56014608,  0.2102966 ,  0.3094619 ],
       [ 0.56436445,  0.2131794 ,  0.30946244],
       [ 0.56853387,  0.21612261,  0.30945527],
       [ 0.57265378,  0.21912572,  0.30944338],
       [ 0.57672367,  0.22218807,  0.30943019],
       [ 0.58074313,  0.22530888,  0.30941887],
       [ 0.58471184,  0.22848728,  0.30941259],
       [ 0.58862956,  0.23172226,  0.30941463],
       [ 0.59249615,  0.23501276,  0.30942773],
       [ 0.59631153,  0.23835767,  0.30945475],
       [ 0.6000757 ,  0.24175564,  0.30949941],
       [ 0.60378871,  0.24520551,  0.30956373],
       [ 0.60745067,  0.24870601,  0.30965032],
       [ 0.61106177,  0.25225568,  0.30976233],
       [ 0.61462227,  0.25585313,  0.30990235],
       [ 0.61813236,  0.25949713,  0.31007218],
       [ 0.62159233,  0.26318633,  0.3102741 ],
       [ 0.62500268,  0.26691899,  0.31051155],
       [ 0.62836366,  0.27069402,  0.31078569],
       [ 0.63167561,  0.27451013,  0.31109835],
       [ 0.63493894,  0.27836599,  0.31145154],
       [ 0.63815439,  0.28225977,  0.31184849],
       [ 0.64132209,  0.28619068,  0.31228962],
       [ 0.6444425 ,  0.29015746,  0.31277663],
       [ 0.64751606,  0.29415891,  0.31331119],
       [ 0.65054365,  0.29819324,  0.3138961 ],
       [ 0.65352541,  0.3022598 ,  0.31453173],
       [ 0.65646176,  0.3063575 ,  0.31521942],
       [ 0.65935317,  0.31048525,  0.31596056],
       [ 0.66220035,  0.31464171,  0.31675699],
       [ 0.66500388,  0.31882575,  0.31761008],
       [ 0.66776394,  0.32303675,  0.3185204 ],
       [ 0.67048099,  0.32727375,  0.31948912],
       [ 0.6731555 ,  0.33153582,  0.32051737],
       [ 0.67578823,  0.33582175,  0.32160664],
       [ 0.67837972,  0.34013063,  0.32275799],
       [ 0.6809301 ,  0.34446198,  0.3239719 ],
       [ 0.68343985,  0.34881498,  0.32524933],
       [ 0.68590943,  0.35318884,  0.32659119],
       [ 0.6883393 ,  0.35758282,  0.32799836],
       [ 0.69073043,  0.36199568,  0.32947216],
       [ 0.69308291,  0.3664271 ,  0.33101297],
       [ 0.69539709,  0.3708765 ,  0.33262143],
       [ 0.69767342,  0.37534321,  0.33429827],
       [ 0.69991239,  0.37982659,  0.3360442 ],
       [ 0.70211445,  0.38432599,  0.33785988],
       [ 0.70428019,  0.38884072,  0.33974602],
       [ 0.70641046,  0.39336986,  0.3417034 ],
       [ 0.70850525,  0.39791324,  0.34373229],
       [ 0.71056506,  0.40247031,  0.34583323],
       [ 0.71259038,  0.40704049,  0.34800672],
       [ 0.71458171,  0.41162325,  0.35025325],
       [ 0.71653955,  0.41621805,  0.35257327],
       [ 0.71846443,  0.42082437,  0.35496717],
       [ 0.72035693,  0.42544166,  0.35743537],
       [ 0.72221798,  0.43006909,  0.35997828],
       [ 0.72404769,  0.43470654,  0.3625961 ],
       [ 0.7258466 ,  0.43935351,  0.36528911],
       [ 0.72761531,  0.44400951,  0.36805757],
       [ 0.72935439,  0.44867407,  0.3709017 ],
       [ 0.73106447,  0.45334672,  0.37382169],
       [ 0.73274615,  0.45802698,  0.37681769],
       [ 0.73440008,  0.46271439,  0.37988983],
       [ 0.73602693,  0.46740849,  0.38303819],
       [ 0.73762735,  0.47210882,  0.38626281],
       [ 0.73920218,  0.47681486,  0.38956372],
       [ 0.74075226,  0.48152606,  0.39294084],
       [ 0.74227806,  0.48624217,  0.39639416],
       [ 0.74378035,  0.49096272,  0.39992359],
       [ 0.74525989,  0.49568729,  0.40352901],
       [ 0.7467175 ,  0.50041544,  0.40721025],
       [ 0.74815399,  0.50514672,  0.41096711],
       [ 0.74957022,  0.5098807 ,  0.41479936],
       [ 0.75096706,  0.51461695,  0.41870673],
       [ 0.7523454 ,  0.51935505,  0.42268891],
       [ 0.75370617,  0.52409456,  0.42674555],
       [ 0.75505031,  0.52883506,  0.43087627],
       [ 0.75637879,  0.53357614,  0.43508064],
       [ 0.75769261,  0.53831736,  0.43935819],
       [ 0.75899278,  0.54305833,  0.44370844],
       [ 0.76028036,  0.54779862,  0.44813085],
       [ 0.76155641,  0.55253783,  0.45262483],
       [ 0.76282202,  0.55727556,  0.45718978],
       [ 0.76407832,  0.5620114 ,  0.46182504],
       [ 0.76532645,  0.56674496,  0.46652992],
       [ 0.76656769,  0.57147579,  0.47130363],
       [ 0.76780313,  0.57620356,  0.47614546],
       [ 0.76903396,  0.5809279 ,  0.48105461],
       [ 0.77026139,  0.58564845,  0.48603026],
       [ 0.77148669,  0.59036483,  0.49107153],
       [ 0.77271112,  0.59507669,  0.49617752],
       [ 0.77393597,  0.59978368,  0.50134728],
       [ 0.77516255,  0.60448545,  0.50657984],
       [ 0.77639218,  0.60918167,  0.51187417],
       [ 0.77762619,  0.61387202,  0.51722924],
       [ 0.77886594,  0.61855617,  0.52264397],
       [ 0.78011279,  0.62323383,  0.52811724],
       [ 0.78136811,  0.62790469,  0.53364792],
       [ 0.78263329,  0.63256848,  0.53923484],
       [ 0.7839097 ,  0.63722491,  0.5448768 ],
       [ 0.78519874,  0.64187373,  0.55057258],
       [ 0.78650181,  0.64651468,  0.55632091],
       [ 0.7878203 ,  0.65114754,  0.56212052],
       [ 0.78915561,  0.65577208,  0.56797011],
       [ 0.79050926,  0.66038803,  0.57386822],
       [ 0.79188264,  0.66499522,  0.57981352],
       [ 0.79327702,  0.66959349,  0.5858047 ],
       [ 0.79469379,  0.67418269,  0.5918404 ],
       [ 0.79613431,  0.67876265,  0.59791919],
       [ 0.79759991,  0.68333326,  0.60403965],
       [ 0.79909194,  0.68789439,  0.61020035],
       [ 0.8006117 ,  0.69244594,  0.61639983],
       [ 0.80216048,  0.69698784,  0.62263662],
       [ 0.80373955,  0.70152001,  0.62890926],
       [ 0.80535015,  0.70604242,  0.63521625],
       [ 0.80699348,  0.71055502,  0.64155611],
       [ 0.80867074,  0.71505782,  0.64792734],
       [ 0.81038305,  0.71955081,  0.65432843],
       [ 0.81213154,  0.72403405,  0.66075787],
       [ 0.81391727,  0.72850756,  0.66721417],
       [ 0.81574127,  0.73297142,  0.6736958 ],
       [ 0.81760451,  0.73742574,  0.68020125],
       [ 0.8195084 ,  0.74187046,  0.68672835],
       [ 0.82145369,  0.74630578,  0.69327574],
       [ 0.82344087,  0.75073197,  0.69984234],
       [ 0.82547069,  0.75514921,  0.70642665],
       [ 0.82754383,  0.75955774,  0.71302718],
       [ 0.82966089,  0.76395779,  0.71964243],
       [ 0.83182239,  0.76834967,  0.72627091],
       [ 0.83402873,  0.77273369,  0.73291113],
       [ 0.83628024,  0.77711022,  0.73956159],
       [ 0.83857711,  0.78147968,  0.74622081],
       [ 0.84092037,  0.78584228,  0.75288559],
       [ 0.84330909,  0.79019878,  0.75955572],
       [ 0.84574284,  0.79454985,  0.76622981],
       [ 0.84822113,  0.79889618,  0.77290618],
       [ 0.85074321,  0.80323858,  0.77958299],
       [ 0.85330808,  0.80757801,  0.78625822],
       [ 0.85591442,  0.81191555,  0.79292953],
       [ 0.85856118,  0.81625233,  0.79959303],
       [ 0.86124662,  0.82058977,  0.80624488],
       [ 0.86396791,  0.82492965,  0.81288197],
       [ 0.86672291,  0.82927372,  0.81949846],
       [ 0.86950991,  0.83362376,  0.82608673],
       [ 0.87232821,  0.83798133,  0.83263685],
       [ 0.87517941,  0.84234739,  0.83913593],
       [ 0.87806892,  0.84672165,  0.84556782],
       [ 0.8810043 ,  0.85110264,  0.85191958],
       [ 0.88399888,  0.8554866 ,  0.85817797],
       [ 0.8870694 ,  0.85986781,  0.86433525],
       [ 0.89023309,  0.86423952,  0.87039251],
       [ 0.89350466,  0.86859513,  0.87635917],
       [ 0.89689069,  0.87293018,  0.88225599],
       [ 0.90039063,  0.87724269,  0.88810768],
       [ 0.90399815,  0.88153304,  0.89393827],
       [ 0.9077033 ,  0.88580336,  0.89976873],
       [ 0.91149547,  0.89005668,  0.90561352],
       [ 0.91536348,  0.89429636,  0.91148597],
       [ 0.91929796,  0.89852545,  0.91739491],
       [ 0.92329143,  0.90274659,  0.92334572],
       [ 0.92733819,  0.90696197,  0.92934102],
       [ 0.93143407,  0.91117343,  0.93538087],
       [ 0.93557543,  0.91538222,  0.94146872],
       [ 0.93975995,  0.91958938,  0.94760504],
       [ 0.94398606,  0.92379568,  0.95378996]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
